/* GRUNDLEGENDE DEFINITIONEN */
body {
    margin: 0; 
    padding: 0; 
    overflow: hidden; 
    
    /* Grid-Layout für stabilste Zentrierung */
    display: grid;
    place-items: center; 

    min-height: 100vh;      
    background-color: #000;
}

/* HAUPT-CONTAINER: Skalierung (QUADRATISCH & VERTIKAL BILDSCHIRMFÜLLEND) */
#bild-container {
    /* *** WIEDERHERGESTELLTE LOGIK *** */
    /* Füllt den Bildschirm von oben nach unten (100vh) und ist quadratisch (100vh Breite) */
    height: 100vh;
    width: 100vh;
    
    aspect-ratio: 1 / 1; /* Erzwingt das 1:1 Verhältnis */

    position: relative; 
    overflow: hidden; 
    
    /* STARTZUSTAND: Horizontale Verschiebung (translateX) auf NULL (Zentrierung) */
    transform: translateX(0) scale(1);
    
    /* WICHTIG: Die Skalierung geht vom unteren Rand aus (50% = Mitte, 100% = Unten) */
    transform-origin: 50% 100%;

    /* Geschmeidiger Übergang für den Zoom-Effekt (3s) */
    transition: transform 3s ease-out; 

    /* Hilfsvariablen (Basis: 2048px) */
    --gesamt-breite-px: 2048;
    --spalte-links-unten-breite: calc(917 / var(--gesamt-breite-px) * 100%);
    --rechte-kante: 100%;
}

/* KLASSE FÜR DEN GEZOOMTEN ENDPUNKT (Wird per JS hinzugefügt) */
/* !important erzwingt diesen Endzustand für die Animation */
.zoom-in {
    /* Die Verschiebung auf 0 zurückgesetzt, damit die Zoom-Animation zentriert startet */
    transform: translateX(0) scale(1.2) !important;
}


/* ALLGEMEINE SLICE-STYLES */
.slice-wrapper { position: absolute; box-sizing: border-box; }
.slice-wrapper img { display: block; width: 100%; height: 100%; object-fit: fill; }


/* -------------------------------------------
 * ZUSÄTZLICHE KEYFRAMES FÜR DAS PULSIERENDE LEUCHTEN
 * ------------------------------------------- */
@keyframes glow-pulse {
    0%, 100% {
        /* Minimales Leuchten */
        filter: drop-shadow(0 0 5px #ffcc80) drop-shadow(0 0 2px #FFF); 
    }
    50% {
        /* Maximales Leuchten (Goldgelb) */
        filter: drop-shadow(0 0 15px #FFD700) drop-shadow(0 0 8px #FFFFFF);
    }
}


/* -------------------------------------------
 * SLICE-POSITIONEN 
 * ------------------------------------------- */
/* Linke Spalte */
#slice-7 { width: calc(683 / 2048 * 100%); height: calc(677 / 2048 * 100%); top: 0; left: 0; }
/* S14: BREITE IST 979px. */
#slice-14 { 
    width: calc(979 / 2048 * 100%); 
    height: calc(601 / 2048 * 100%); 
    top: calc(677 / 2048 * 100%); 
    left: 0; 
}

/* Mittlere Spalte (zentrierte Slices - URSPRÜNGLICHE WERTE) */
#slice-1 { width: calc(807 / 2048 * 100%); height: calc(464 / 2048 * 100%); top: 0; left: calc(683 / 2048 * 100%); }
#slice-9 { width: calc(135 / 2048 * 100%); height: calc(118 / 2048 * 100%); top: calc(464 / 2048 * 100%); left: calc(683 / 2048 * 100%); }

/* Slice 2: ÜBERSCHRIFTEN-CONTAINER (Jetzt 'relative' für das Overlay) */
#slice-2 { 
    width: calc(544 / 2048 * 100%); 
    height: calc(118 / 2048 * 100%); 
    top: calc(464 / 2048 * 100%); 
    left: calc((683 + 135) / 2048 * 100%); 
    /* WICHTIG: Für das absolute Overlay benötigt */
    position: relative;
}

/* NEU: GLOW-OVERLAY STYLES */
#glow-overlay {
    /* Positioniert sich über dem img-Tag in #slice-2 */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2; /* Liegt über dem img */

    /* Läd das neue, transparente Bild. KORRIGIERTE GROSS-/KLEINSCHREIBUNG! */
    background-image: url('https://xanderfoxy.github.io/AsmaasWunderland/Slice2 2.png'); 
    background-size: 100% 100%;
    background-repeat: no-repeat;
    
    /* Leuchten nur auf die transparenten Kanten anwenden */
    animation: glow-pulse 4s infinite alternate ease-in-out;
}

#slice-10 { 
    width: calc(128 / 2048 * 100%); height: calc(118 / 2048 * 100%); 
    top: calc(464 / 2048 * 100%); 
    left: calc(1362 / 2048 * 100%); 
}

/* S11: Startet bei 683px. Endet bei 979px. */
#slice-11 { 
    width: calc(296 / 2048 * 100%); height: calc(95 / 2048 * 100%); 
    top: calc(582 / 2048 * 100%); 
    left: calc(683 / 2048 * 100%); 
}

/* S3 (Nase): Startet bei 979px (Ende S14). Endet bei 1139px. */
#slice-3 { 
    width: calc(160 / 2048 * 100%); height: calc(696 / 2048 * 100%); 
    top: calc(582 / 2048 * 100%); 
    left: calc(979 / 2048 * 100%); 
}

/* S12: Startet bei 1139px. Endet bei 1490px. */
#slice-12 { 
    width: calc(351 / 2048 * 100%); 
    height: calc(95 / 2048 * 100%); 
    top: calc(582 / 2048 * 100%); 
    left: calc(1139 / 2048 * 100%); 
}

/* Rechte Spalte (S8) */
#slice-8 { 
    width: calc(558 / 2048 * 100%); height: calc(677 / 2048 * 100%); top: 0; 
    left: calc(1490 / 2048 * 100%); 
}

/* S15: Startet EXAKT bei 1139px (Ende S3). BREITE IST 909px. */
#slice-15 { 
    width: calc(909 / 2048 * 100%); 
    height: calc(601 / 2048 * 100%); 
    top: calc(677 / 2048 * 100%); 
    left: calc(1139 / 2048 * 100%); 
}


/* -------------------------------------------
 * UNTERE HÄLFTE (ab 1278px Höhe) 
 * ------------------------------------------- */
/* Linke Spalte (OK) */
#slice-16 { width: var(--spalte-links-unten-breite); height: calc(770 / 2048 * 100%); top: calc(1278 / 2048 * 100%); left: 0; }

/* Mittlerer Block (OK) */
#slice-13 { width: calc(277 / 2048 * 100%); height: calc(232 / 2048 * 100%); top: calc(1278 / 2048 * 100%); left: var(--spalte-links-unten-breite); }
#slice-4 { width: calc(277 / 2048 * 100%); height: calc(202 / 2048 * 100%); top: calc(1510 / 2048 * 100%); left: var(--spalte-links-unten-breite); }
#slice-6 { width: calc(277 / 2048 * 100%); height: calc(295 / 2048 * 100%); top: calc(1712 / 2048 * 100%); left: var(--spalte-links-unten-breite); }
#slice-20 { width: calc(277 / 2048 * 100%); height: calc(41 / 2048 * 100%); top: calc(2007 / 2048 * 100%); left: var(--spalte-links-unten-breite); }

/* Rechter Block (Rechtsbündig) */
#slice-17 { 
    width: calc(854 / 2048 * 100%); height: calc(371 / 2048 * 100%); top: calc(1278 / 2048 * 100%); 
    left: calc(1194 / 2048 * 100%); 
}
#slice-18 { 
    width: calc(558 / 2048 * 100%); height: calc(399 / 2048 * 100%); top: calc(1649 / 2048 * 100%); 
    left: calc(1490 / 2048 * 100%); 
}

/* Fülls-Slices rechts von der Mitte (links neben Slice 18) */
#slice-5 { 
    width: calc(296 / 2048 * 100%); height: calc(237 / 2048 * 100%); 
    top: calc(1649 / 2048 * 100%); 
    left: calc(1194 / 2048 * 100%); 
}
#slice-19 { 
    width: calc(296 / 2048 * 100%); height: calc(162 / 2048 * 100%); 
    top: calc(1886 / 2048 * 100%); 
    left: calc(1194 / 2048 * 100%); 
}

/* -------------------------------------------
 * PRELOADER STYLES 
 * ------------------------------------------- */
#preloader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw; 
    height: 100vh;
    background-color: #000; 
    z-index: 9999; 
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #fff; 
    font-size: 1.5em;
    opacity: 1;
    transition: opacity 1.5s ease-out; 
    pointer-events: all; 
}

#preloader-text-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: sans-serif; 
}

#preloader-text {
    display: flex;
    align-items: center;
    white-space: nowrap; 
    margin-bottom: 10px; 
}

/* Ladebalken Container */
#loading-bar-container {
    width: 250px;
    height: 8px;
    background-color: #333; 
    border-radius: 4px;
    overflow: hidden;
}

/* Der lila Ladebalken */
#loading-bar {
    height: 100%;
    width: 0%; 
    background-color: #8A2BE2; /* Lila/Blue Violet */
    border-radius: 4px;
    transition: width 0.1s linear; 
}
